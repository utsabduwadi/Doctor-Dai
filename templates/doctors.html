{% extends "base.html" %}

{% block title %}Doctors Page{% endblock %}
{% block content %}


<section class="doc-page">
    <h1>Find Your Specialist</h1>
    <p class="doc-subtitle">
        Based on your health condition, we recommend consulting with the following specialists
    </p>

    <div class="doc-grid">
        <aside class="filter-card">
            <h2 class="filter-title">Filter Doctors</h2>
            <form method="get" action="{{ url_for('doctor_page') }}">
                <label class="field-label" for="specialty">Specialty</label>
                <input
                    class="doc-input"
                    id="specialty"
                    name="specialty"
                    list="specialty-list"
                    value="{{ selected_specialty }}"
                    placeholder="Search specialties"
                >
                <datalist id="specialty-list">
                    {% for specialty in specialty_options %}
                    <option value="{{ specialty }}">
                    {% endfor %}
                </datalist>

                <label class="field-label" for="location">Location</label>
                <input
                    class="doc-input"
                    id="location"
                    name="location"
                    value="{{ selected_location }}"
                    placeholder="Enter city or zip code"
                >

                <button type="submit" class="apply-btn">Apply Filters</button>
            </form>
        </aside>

        <section class="doctor-list">
            {% if doctors %}
                {% for doctor in doctors %}
                <article class="doctor-card">
                    <div class="avatar">{{ doctor.avatar }}</div>
                    <div>
                        <h3 class="doctor-name">{{ doctor.name }}</h3>
                        <p class="doctor-specialty">{{ doctor.specialty }}</p>
                        <p class="doctor-meta">{{ doctor.experience }} &bull; {{ doctor.focus }}</p>
                        <div class="contact-row">
                            <span class="contact-pill mail">{{ doctor.email }}</span>
                            <span class="contact-pill phone">+{{ doctor.phone }}</span>
                        </div>
                    </div>
                </article>
                {% endfor %}
            {% else %}
                <div class="no-result">
                    No doctors matched your filters. Try a different specialty or location.
                </div>
            {% endif %}
        </section>
    </div>
</section>
{% endblock content %}
